{% extends "base_layout.html" %}

{% block title %}Edit Parking Lot - Admin{% endblock %}
{% block meta_description %}Edit parking lot details.{% endblock %}

{% block head_extra %}
    {{ super() }}
    <link rel="stylesheet" href="/static/css/forms.css">
    <style>
        .card {
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        }
    </style>
{% endblock %}

{% block content %}
<div class="d-flex align-items-center justify-content-center vh-100 bg-light">
    <div class="card" style="width: 420px;">
        <div class="card-body">
            <h4 class="text-center mb-4">Edit Parking Lot</h4>
            <form method="POST" action="{{ url_for('edit_parking', lot_id=lot.lot_id) }}">
                <div class="mb-3">
                    <label class="form-label">Area Type</label>
                    <select class="form-select" name="area_type" required>
                        <option value="Open" {% if lot.area_type == 'Open' %}selected{% endif %}>Open</option>
                        <option value="Covered" {% if lot.area_type == 'Covered' %}selected{% endif %}>Covered</option>
                        <option value="Both" {% if lot.area_type == 'Both' %}selected{% endif %}>Both</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label class="form-label">City</label>
                    <input type="text" class="form-control" name="city" value="{{ lot.city }}" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Prime Location</label>
                    <input type="text" class="form-control" name="primelocation_name" value="{{ lot.primelocation_name }}" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Address</label>
                    <input type="text" class="form-control" name="address" value="{{ lot.address }}" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Pincode</label>
                    <input type="number" class="form-control" name="pincode" value="{{ lot.pincode }}" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Price per Hour (â‚¹)</label>
                    <input type="number" step="0.01" class="form-control" name="price_per_hr" value="{{ lot.price_per_hr }}" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Capacity</label>
                    <input type="number" class="form-control" name="capacity" value="{{ lot.max_spots }}" required>
                </div>
                
                <div class="d-grid">
                    <button type="submit" class="btn btn-primary">Update Lot</button>
                </div>
            </form>
            <p class="text-center mt-3">
                <a href="{{ url_for('admin_dashboard') }}">Back to Dashboard</a>
            </p>
        </div>
    </div>
</div>
{% endblock %}
